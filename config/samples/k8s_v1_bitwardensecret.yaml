apiVersion: k8s.bitwarden.com/v1
kind: BitwardenSecret
metadata:
  labels:
    app.kubernetes.io/name: bitwardensecret
    app.kubernetes.io/instance: bitwardensecret-sample
    app.kubernetes.io/part-of: sm-operator
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: sm-operator
  name: bitwardensecret-sample
spec:
  organizationId: "a08a8157-129e-4002-bab4-b118014ca9c7"
  secretName: bw-sample-secret
  # map: []
  map:
      - bwSecretId: e30f88bd-9e9c-42ae-83b7-b155012da672
        secretKeyName: test__secret__1
      - bwSecretId: 9f66ccaf-998e-4e5d-9294-b155012db579
        secretKeyName: test__secret__2
  # Optional: Filter secrets by project IDs
  # projectIds:
  #   - "550e8400-e29b-41d4-a716-446655440000"
  #   - "6ba7b810-9dad-11d1-80b4-00c04fd430c8"
  # Optional: Automatically use secret keys from Bitwarden Secrets Manager instead of UUIDs as K8s secret keys
  # This can be combined with explicit map entries above for additional customization
  # Note: Keys are sanitized for Kubernetes compliance (invalid characters replaced with underscores)
  # Note: Duplicate keys (after sanitization) will log warnings and the last secret will be used
  # useKeyMapping: true
  authToken:
    secretName: bw-auth-token
    secretKey: token
